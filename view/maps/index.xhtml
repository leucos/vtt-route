    <div class="well span8 offset1">
      <!-- Add data-toggle="buttons-radio" for radio style toggling on btn-group -->
      <div class="btn-group" data-toggle="buttons-radio">
        <button class="btn" id="osmbut">OpenStreetMap</button>
        <button class="btn" id="gmapsbut">Google Maps</button>
      </div>
      <p />
      <div class="row">
        <div class="span8 columns" id="map_canvas" style="height: 600px;"></div>
      </div>
    </div>

    <div class="row">

      <div class="span4 offset1">
        <p>
          <h3>Tracé VTT</h3>
          Profil altimétrique
          <p>
            <a data-toggle="modal" class="btn btn-primary btn-mini" href="#profile-vtt">Voir &raquo;</a>
          </p>
          Téléchargez le tracé VTT au format KML ou GPX
          <p>
            <a class="btn btn-primary btn-mini" href="/kml/vtt.kml">KML &raquo;</a>
            <a class="btn btn-primary btn-mini" href="/kml/vtt.gpx">GPX &raquo;</a>
          </p>
        </p>
      </div>
      <div class="span4">
        <p>
          <h3>Tracé route</h3>
          Profil altimétrique
          <p>
            <a data-toggle="modal" class="btn btn-primary btn-mini" href="#profile-route">Voir &raquo;</a>
          </p>
          Téléchargez le tracé route au format KML ou GPX
          <p>
            <a class="btn btn-primary btn-mini" href="/kml/route.kml">KML &raquo;</a>
            <a class="btn btn-primary btn-mini" href="/kml/route.gpx">GPX &raquo;</a>
          </p>
        </p>
      </div>
    </div>


    <div class="modal hide fade" id="profile-vtt" style="display:none; width:760px;">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>Profil altimétrique du parcours VTT</h3>
      </div>
      <div class="modal-body">
        <img src='/images/vtt-profile.png'</img>
      </div>
    </div>

    <div class="modal hide fade" id="profile-route" style="display:none; width:760px;">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>Profil altimétrique du parcours Route</h3>
      </div>
      <div class="modal-body">
        <img src='/images/route-profile.png'</img>
      </div>
    </div>

    <!-- Map type button toggling code -->
    <script type='text/javascript'>
      $(function() {
        $('#osmbut').button('toggle')
        $("#gmapsbut").attr("disabled", "disabled"); // soon...

        $('#gmapsbut').click(function() {
          $('#gmapsbut').addClass('active');
          $('#osmbut').removeClass('active');
        });

        $('#osmbut').click(function() {
          $('#osmbut').addClass('active');
          $('#gmapsbut').removeClass('active');     
        });
      });
    </script>

    <!-- OSM/Leaflet map -->
    <script type='text/javascript'>
      $(function osm() {
        $('.map_canvas').empty();
        var map = new L.Map('map_canvas', {center: new L.LatLng(45.75128,4.424866), zoom: 12});
        var osmAttrib='Map data © openstreetmap contributors';
        var osmurl = 'http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png'
        var osm = new L.TileLayer(osmurl,{minZoom:8,maxZoom:18,attribution:osmAttrib});

        var trackvtt = new L.KML("/kml/vtt.kml", {async: true, color: 'red'});
        trackvtt.on("loaded", function(e) { console.log(e.target); map.fitBounds(new L.LatLngBounds(e.target)); });

        var trackroute = new L.KML("/kml/route.kml", {async: true});
        trackroute.on("loaded", function(e) { map.fitBounds(e.target.getBounds()); });

        trackvtt.setStyle({color: '#03f'});
        map.addLayer(trackvtt);
        map.addLayer(trackroute);
        map.addLayer(osm);
        map.addControl(new L.Control.Layers({}, {'VTT':trackvtt, 'Route':trackroute}));
      });
    </script>

    <!-- GMap map -->
    <script type="text/javascript">
      $(function gmaps() {
        return;
        $('.map_canvas').empty();
        var slc = new google.maps.LatLng(45.721282,4.431782);
        var myOptions = {
          zoom: 11,
          center: slc,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }

        var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
        var vttLayer = new google.maps.KmlLayer('http://challengevttroute.fr/kml/vtt.kml');
        var routeLayer = new google.maps.KmlLayer('http://challengevttroute.fr/kml/route.kml');
        vttLayer.setMap(map);
        routeLayer.setMap(map);
      });
    </script>

